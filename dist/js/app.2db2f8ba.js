(function(t){function e(e){for(var n,a,s=e[0],_=e[1],c=e[2],u=0,p=[];u<s.length;u++)a=s[u],i[a]&&p.push(i[a][0]),i[a]=0;for(n in _)Object.prototype.hasOwnProperty.call(_,n)&&(t[n]=_[n]);l&&l(e);while(p.length)p.shift()();return o.push.apply(o,c||[]),r()}function r(){for(var t,e=0;e<o.length;e++){for(var r=o[e],n=!0,s=1;s<r.length;s++){var _=r[s];0!==i[_]&&(n=!1)}n&&(o.splice(e--,1),t=a(a.s=r[0]))}return t}var n={},i={app:0},o=[];function a(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=t,a.c=n,a.d=function(t,e,r){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(r,n,function(e){return t[e]}.bind(null,n));return r},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/interactive-algorithms/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],_=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var l=_;o.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("cd49")},2150:function(t,e,r){},"23e0":function(t,e,r){"use strict";var n=r("edd3"),i=r.n(n);i.a},"39b8":function(t,e,r){"use strict";var n=r("510b"),i=r.n(n);i.a},"4b03":function(t,e,r){"use strict";var n=r("c28b"),i=r.n(n);i.a},"4b9d":function(t,e,r){},"4bc4":function(t,e,r){"use strict";var n=r("c462"),i=r.n(n);i.a},"4dec":function(t,e,r){"use strict";var n=r("9148"),i=r.n(n);i.a},"4eaa":function(t,e,r){},"510b":function(t,e,r){},"5c48":function(t,e,r){},"5f14":function(t,e,r){"use strict";var n=r("e91e"),i=r.n(n);i.a},7241:function(t,e,r){"use strict";var n=r("c96f"),i=r.n(n);i.a},"758f":function(t,e,r){"use strict";var n=r("8ab2"),i=r.n(n);i.a},"7c55":function(t,e,r){"use strict";var n=r("5c48"),i=r.n(n);i.a},"7c6d":function(t,e,r){"use strict";var n=r("e138"),i=r.n(n);i.a},8090:function(t,e,r){"use strict";var n=r("4eaa"),i=r.n(n);i.a},"82fc":function(t,e,r){"use strict";var n=r("a65c"),i=r.n(n);i.a},"8ab2":function(t,e,r){},9148:function(t,e,r){},a2a7:function(t,e,r){"use strict";var n=r("2150"),i=r.n(n);i.a},a488:function(t,e,r){"use strict";var n=r("a896"),i=r.n(n);i.a},a65c:function(t,e,r){},a896:function(t,e,r){},c28b:function(t,e,r){},c329:function(t,e,r){"use strict";var n=r("e586"),i=r.n(n);i.a},c462:function(t,e,r){},c6e8:function(t,e,r){"use strict";var n=r("4b9d"),i=r.n(n);i.a},c96f:function(t,e,r){},cd49:function(t,e,r){"use strict";r.r(e);r("cadf"),r("551c"),r("097d");var n=r("2b0e"),i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("div",{attrs:{id:"nav"}},[t._m(0),r("div",{staticStyle:{"padding-bottom":"8px","border-bottom":"solid var(--color-dark-gray) 1px",width:"170px"}},[r("router-link",{attrs:{to:"/"}},[t._v("Info")])],1),r("div",{staticStyle:{"padding-top":"8px"}},[r("router-link",{attrs:{to:"/encoder/"}},[t._v("Convolutional Codes")]),r("br"),r("router-link",{attrs:{to:"/decoder/"}},[t._v("Viterbi Algorithm")]),r("br"),r("router-link",{attrs:{to:"/pagerank/"}},[t._v("PageRank")])],1)]),r("div",{attrs:{id:"content"}},[r("router-view")],1)])},o=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"header"}},[r("h3",[t._v("Interactive Algorithms")]),r("span",{staticStyle:{"font-size":"12px"}},[t._v("by Nuno Das Neves")])])}],a=(r("7c55"),r("2877")),s={},_=Object(a["a"])(s,i,o,!1,null,null,null);_.options.__file="App.vue";var c=_.exports,l=r("8c4f"),u=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},p=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"main-content"},[r("h3",{staticStyle:{"font-family":"var(--font-monospace)"}},[t._v("Information")]),r("section",[t._v("\n    The goal of this site is to provide an interactive explanation of some widely used algorithms.\n    "),r("p"),t._v("\n    To begin with, I've made detailed interactive pages for Convolutional Coding, the Viterbi Algorithm, and PageRank.\n  ")])])}],h={},d=h,f=(r("7241"),Object(a["a"])(d,u,p,!1,null,"5e968e8d",null));f.options.__file="Home.vue";var g=f.exports,m=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"main-content"},[r("h3",{staticStyle:{"font-family":"var(--font-monospace)"}},[t._v("Convolutional Codes")]),r("section",[t.encoder_started?r("div",[r("AppButton",{attrs:{type:"warning"},nativeOn:{click:function(e){return t.stop_encoder(e)}}},[t._v("Back")]),r("br"),t._v("\n\n      A convolutional encoder has "),r("Math",[t._v("$K$")]),t._v(" single-bit registers. "),r("Math",[t._v("$K - 1$")]),t._v(" of these are the "),r("span",{staticClass:"bit-text-blue"},[t._v("state bits")]),t._v(" of the encoder."),r("br"),t._v("\n      Each "),r("span",{staticClass:"bit-text-red"},[t._v("input bit")]),t._v(" enters the encoder via the leftmost register. At each step of encoding, the registers are shifted right."),r("br"),r("p"),t._v("\n      For each input bit, an "),r("Math",[t._v("$n$")]),t._v("-bit "),r("span",{staticClass:"bit-text-green"},[t._v("output symbol")]),t._v(" is produced by the encoder."),r("br"),t._v("\n      Each output bit is obtained by "),r("Math",[t._v("$n$")]),t._v(" modulo-2 adders (equivalent to "),r("span",{staticClass:"bit-text"},[t._v("XOR")]),t._v("), which add a subset of the encoder registers."),r("br"),r("Math",[t._v("$n$")]),t._v(" generator polynomials define which registers are added to produce each output bit.\n      "),r("AppSpoiler",{attrs:{title:"More on generator polynomials"}},[r("Math",[t._v("\n          Generator polynomials are of degree $K-1$ and take the form:\n          $G^{i}(x) = g_0^{i} + g_1^{i}x + ... + g_{K-1}^{i}x^{K-1}$ for $1 \\leq i \\leq n$, where each coefficient $g_k^{i} \\in \\{0, 1\\}$\n          "),r("p"),t._v("\n          For the $j$th output symbol, bit $b_{j}^{i}$ will be the coefficient of $x^{j}$ in the product $P(x)G^{i}(x)$, where $P(x)$ is the polynomial representation of the input stream.\n          "),r("p"),t._v("\n          \\begin{align}\n          P(x)G^{i}(x) &={} (p_0 + p_1x + p_2x^2 + ...)(g_0^{i} + g_1^{i}x + ... + g_{K-1}^{i}x^{K-1}) \\\\\n                       &={} \\begin{aligned}[t]\n                          &p_0g_0^{i} +  \\\\\n                         (&p_0g_1^{i} + p_1g_0^{i})x + \\\\\n                          &... \\\\\n                         (&p_0g_{K-1}^{i} + ... + p_{K-2}g_0^{i})x^{K-1} \\\\\n                         (&p_1g_{K-1}^{i} + ... + p_{K-1}g_0^{i})x^K \\\\\n                          &... \\\\\n                         (&p_{j-(K-1)}g_{K-1}^{i} + ... + p_{j}g_0^{i})x^j \\\\\n                          &... \\end{aligned} \\\\\n                       &={} \\begin{aligned}[t]\n                          &p_0g_0^{i} + \\\\\n                         (&p_1g_0^{i} + p_0g_1^{i})x \\\\\n                          &... \\\\\n                         (&p_jg_0^{i} + p_{j-1}g_1^{i} + ... + p_{j-(K-1)}g_{K-1}^{i})x^{j} \\\\\n                          &... \\end{aligned}\n\n          \\end{align}\n          So, $G^{i}(x)$ can be treated as a 'sliding window' over $P(x)$, which is equivalent to a convolution of the two sequences of coefficients:\n          $$\n            b_{j}^{i} = \\sum_{k=0}^{\\infty}p_{j-k}g_{k}^{i} \\mod{2}\n          $$\n          Note:\n          "),r("ul",{staticClass:"dot-list"},[r("li",[t._v("Non-existent coefficents can be simply treated as $0$")]),r("li",[t._v("Summation $\\bmod{2}$ is equivalent to XOR")]),r("li",[t._v("No matter the length of $P(x)$, $b_{j}^{i}$ is the sum of at most $K$ non-zero terms")])]),t._v("\n          This operation is what the convolutional encoder implements.\n        ")])],1),r("HorizLine"),r("h3",[t._v("Sample Encoder")]),r("div",{staticClass:"params"},[r("Math",[t._v("\n        $K = 3$"),r("br"),t._v("\n        $n = 3$"),r("br")]),t._v("\n        generator polynomials: "),r("span",{domProps:{innerHTML:t._s(t.show_gen)}}),r("br")],1),t._v("\n\n\n      Input binary:"),r("br"),r("InputBits",{attrs:{bits:t.encoder.input,index:t.encoder.i,K:t.K}}),r("EncoderDiagram",{attrs:{input:t.encoder.reg,output:t.encoder.outputs[t.encoder.outputs.length-1],gen:t.gen,gen_colors:t.GEN_COLORS}}),r("AppButton",{attrs:{type:"warning"},nativeOn:{click:function(e){return t.reset_encoder(e)}}},[t._v("<< Reset")]),r("AppButton",{attrs:{disabled:t.encoder.finished},nativeOn:{click:function(e){return t.encoder.next(e)}}},[t._v("Next Bit >")]),r("AppButton",{attrs:{disabled:t.encoder.finished},nativeOn:{click:function(e){return function(){while(!t.encoder.finished)t.encoder.next()}()}}},[t._v("Encode all >>")]),r("p"),t._v("\n      All output symbols:\n      "),r("OutputBits",{attrs:{symbols:t.encoder.outputs,highlight:!0}}),t.encoder.finished?r("p",[t._v("\n        To see how the message can be decoded in the presence of errors, click below.\n      ")]):r("p"),r("AppButton",{attrs:{disabled:!t.encoder.finished,type:"green"},nativeOn:{click:function(e){return t.decode(e)}}},[t._v("Decode")])],1):r("div",[t._v("\n      Convolutional Codes add redundant information to a stream of bits in order to increase reliability in noisy communication channels.\n      "),r("p"),t._v("\n      The "),r("router-link",{attrs:{to:{name:"decoder",params:{}}}},[t._v("Viterbi Algorithm")]),t._v(" can be used to restore the original bitstream up to a certain error rate.\n      "),r("p"),t._v("\n      Type a short string to encode:\n      "),r("p"),r("AppInput",{staticStyle:{width:"40px"},attrs:{valid:t.input_string.length<=t.MAX_INPUT_CHARS},model:{value:t.input_string,callback:function(e){t.input_string=e},expression:"input_string"}}),t._v("\n        "),t.input_string.length>t.MAX_INPUT_CHARS?r("span",[t._v("Please limit the input to "+t._s(t.MAX_INPUT_CHARS)+" characters")]):t._e(),r("p"),t.input_string.length>0&&t.input_string.length<=t.MAX_INPUT_CHARS?r("div",[t._v("\n        Input binary:"),r("br"),r("InputBits",{attrs:{bits:t.input,index:-50,K:0}})],1):t._e(),r("p"),r("AppButton",{attrs:{disabled:!t.input_string.length,type:"green"},nativeOn:{click:function(e){return t.start_encoder(e)}}},[t._v("Start Encoding")])],1)])])},T=[],v=r("9ab4"),b=r("60a3"),A=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"binary-container"},t._l(t.padded_bits,function(e,n){return r("div",{class:"binary-item "+t.get_border_class(n)},[t._v("\n    "+t._s(-1==e?" ":e)+"\n  ")])}))},E=[],L=(r("c5f6"),r("6c7b"),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return v["d"](e,t),Object.defineProperty(e.prototype,"padded_bits",{get:function(){return this.K<=0?this.bits:new Array(this.K-1).fill(-1).concat(this.bits)},enumerable:!0,configurable:!0}),e.prototype.get_border_class=function(t){return t<this.index||t>=this.index+this.K?"":t==this.index?"binary-item-border-left binary-item-state":t==this.index+this.K-1?"binary-item-border binary-item-input":"binary-item-border binary-item-state"},v["c"]([Object(b["b"])(Array)],e.prototype,"bits",void 0),v["c"]([Object(b["b"])(Number)],e.prototype,"index",void 0),v["c"]([Object(b["b"])(Number)],e.prototype,"K",void 0),e=v["c"]([b["a"]],e),e}(b["c"])),I=L,S=I,R=(r("a2a7"),Object(a["a"])(S,A,E,!1,null,"a31f9424",null));R.options.__file="InputBits.vue";var y=R.exports,H=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"binary-container"},t._l(t.symbols,function(e,n){return r("div",{class:"symbol-item binary-item-border-left "+(t.highlight&&n==t.symbols.length-1?"symbol-item-output":"")},t._l(e,function(e){return r("span",{staticClass:"bit-item"},[t._v("\n      "+t._s(e)+"\n    ")])}))}))},O=[],x=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return v["d"](e,t),v["c"]([Object(b["b"])(Array)],e.prototype,"symbols",void 0),v["c"]([Object(b["b"])({type:Boolean,default:!1})],e.prototype,"highlight",void 0),e=v["c"]([b["a"]],e),e}(b["c"]),D=x,w=D,M=(r("c6e8"),Object(a["a"])(w,H,O,!1,null,"d567f30c",null));M.options.__file="OutputBits.vue";var k=M.exports,G=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("AppSvg",{attrs:{width:t.SQUARE_WIDTH*(t.gen[0].length+2)+2*t.MARGIN,height:t.SQUARE_WIDTH*(t.gen.length+1)+2*t.MARGIN}},[r("g",{attrs:{transform:"translate("+t.MARGIN+","+t.MARGIN+")"}},[r("g",t._l(t.gen,function(e,n){return r("g",{key:n},[r("polyline",{attrs:{points:t.horiz_line_points(e,n),stroke:t.gen_colors[n],"stroke-width":"2",fill:"transparent"}}),t._l(e,function(e,i){return 1==e?r("polyline",{attrs:{points:t.vert_line_points(n,i),stroke:t.gen_colors[n],"stroke-width":"2",fill:"transparent"}}):t._e()}),t._v("\n            />\n\n          "),r("g",{attrs:{transform:"translate("+(t.SQUARE_WIDTH*t.gen[0].length+t.TOP_OFFSET-t.XOR_RADIUS)+","+(n*t.SQUARE_WIDTH+t.TOP_OFFSET-t.XOR_RADIUS)+")"}},[r("circle",{attrs:{cx:t.XOR_RADIUS,cy:t.XOR_RADIUS,r:t.XOR_RADIUS,fill:"white",stroke:"black","stroke-width":"2"}}),r("polyline",{attrs:{points:t.XOR_RADIUS+" "+.5*t.XOR_RADIUS+", "+t.XOR_RADIUS+" "+1.5*t.XOR_RADIUS,stroke:"black","stroke-width":"2",fill:"transparent"}}),r("polyline",{attrs:{points:.5*t.XOR_RADIUS+" "+t.XOR_RADIUS+", "+1.5*t.XOR_RADIUS+" "+t.XOR_RADIUS,stroke:"black","stroke-width":"2",fill:"transparent"}})])],2)})),r("g",{attrs:{transform:"translate(0,"+t.SQUARE_WIDTH*t.gen.length+")"}},[t._l(t.input,function(e,n){return r("g",{key:n,attrs:{transform:"translate("+n*t.SQUARE_WIDTH+",0)"}},[r("rect",{attrs:{x:"0",y:"0",stroke:"black","stroke-width":"2",width:t.SQUARE_WIDTH,height:t.SQUARE_WIDTH,fill:0==n?"var(--color-bit-input)":"var(--color-bit-state)"}}),r("text",{staticClass:"encoder-svg-text",style:"font-size:"+t.FONT_SIZE+";",attrs:{x:.3*t.SQUARE_WIDTH,y:.76*t.SQUARE_WIDTH}},[t._v("\n            "+t._s(e)+"\n          ")]),0==n?r("text",{style:"font-size:"+t.FONT_SIZE_SMALL,attrs:{x:.19*t.SQUARE_WIDTH,y:1.25*t.SQUARE_WIDTH}},[t._v("\n            (input bit)\n          ")]):t._e()])}),r("text",{style:"font-size:"+t.FONT_SIZE_SMALL,attrs:{x:t.SQUARE_WIDTH+t.SQUARE_WIDTH*(t.gen.length-1)/2-.35*t.SQUARE_WIDTH,y:1.25*t.SQUARE_WIDTH}},[t._v("\n            (state bits)\n          ")])],2),r("g",{attrs:{transform:"translate("+t.SQUARE_WIDTH*(t.gen[0].length+1)+",0)"}},t._l(t.output,function(e,n){return r("g",{key:n,attrs:{transform:"translate(0,"+n*t.SQUARE_WIDTH+")"}},[r("rect",{attrs:{x:"0",y:"0",stroke:"black","stroke-width":"2",fill:"var(--color-bit-output)",width:t.SQUARE_WIDTH,height:t.SQUARE_WIDTH}}),r("text",{staticClass:"encoder-svg-text",style:"font-size:"+t.FONT_SIZE+";",attrs:{x:.3*t.SQUARE_WIDTH,y:.76*t.SQUARE_WIDTH}},[t._v("\n            "+t._s(e)+"\n          ")])])}))])])],1)},W=[],P=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.SCALING_FACTOR=1/Math.max(e.gen.length,e.gen[0].length),e.MARGIN=30,e.FONT_SIZE=9*e.SCALING_FACTOR+"em",e.FONT_SIZE_SMALL=2*e.SCALING_FACTOR+"em",e.SQUARE_WIDTH=225*e.SCALING_FACTOR,e.XOR_RADIUS=45*e.SCALING_FACTOR,e.TOP_OFFSET=e.SQUARE_WIDTH/2,e}return v["d"](e,t),e.prototype.horiz_line_points=function(t,e){var r=this.SQUARE_WIDTH/this.gen.length,n=t.reduce(function(t,e,r){return-1==t&&e?r:t},-1),i=r*e+r/2+n*this.SQUARE_WIDTH,o=this.SQUARE_WIDTH*(this.gen[0].length+1),a=this.TOP_OFFSET+e*this.SQUARE_WIDTH;return i+" "+a+", "+o+" "+a},e.prototype.vert_line_points=function(t,e){var r=this.SQUARE_WIDTH/this.gen.length,n=this.TOP_OFFSET+t*this.SQUARE_WIDTH,i=this.SQUARE_WIDTH*this.gen.length,o=r*t+r/2+e*this.SQUARE_WIDTH;return o+" "+n+", "+o+" "+i},v["c"]([Object(b["b"])(Array)],e.prototype,"input",void 0),v["c"]([Object(b["b"])(Array)],e.prototype,"output",void 0),v["c"]([Object(b["b"])(Array)],e.prototype,"gen",void 0),v["c"]([Object(b["b"])(Array)],e.prototype,"gen_colors",void 0),e=v["c"]([b["a"]],e),e}(b["c"]),U=P,C=U,$=(r("5f14"),Object(a["a"])(C,G,W,!1,null,"8e4bd86a",null));$.options.__file="Diagram.vue";var j=$.exports,B=r("6fc5");r("87f3"),r("5df3"),r("1c4c");function N(t,e){return t.reduce(function(t,r,n){return t+(r^e[n])},0)}function F(t){for(var e=[],r=0;r<t.length;++r)for(var n=t.charCodeAt(r),i=0;i<8;++i)e.push(n>>i&1);return e}function Q(t){for(var e=[],r=0;r<t.length;r+=8){for(var n=0,i=0;i<8&&i+r<t.length;++i)n|=t[i+r]<<i;e.push(n)}return String.fromCharCode.apply(String,e)}function Z(t){for(var e=0,r=0;r<t.length;++r)e|=t[t.length-r-1]<<r;return e}function X(t,e){for(var r=[],n=0;n<e;++n)r.unshift(t>>n&1);return r}var K=function(){function t(t,e,r,n){this.n=3,this.K=3,this.gen=[],this.input=[],this.i=-1,this.reg=[],this.states=[],this.outputs=[],this.finished=!1,this.n=t,this.K=e,this.gen=r,this.input=n,this.reset()}return t.prototype.reset=function(){this.i=-1,this.finished=!1,this.reg=new Array(this.K).fill(0),this.states=new Array,this.outputs=new Array,this.next()},t.example=function(e){return void 0===e&&(e=[1,0,1,1,0,0,0,1]),new t(2,3,[[1,1,1],[1,0,1]],e)},t.prototype.encodeAndFlatten=function(){while(this.next());return this.outputs.reduce(function(t,e){return t.concat(e)},[])},t.prototype.next=function(){var t=this;if(!this.finished){this.i++,this.reg.pop(),this.reg.unshift(this.input[this.i]);for(var e=new Array(this.n).fill(0),r=0;r<this.n;++r)e[r]=this.gen[r].reduce(function(e,r,n){return r?(e+t.reg[n])%2:e},0);return this.states.push(Array.from(this.reg)),this.outputs.push(Array.from(e)),this.i+1>=this.input.length&&(this.finished=!0,this.reg.pop(),this.reg.unshift(0),this.states.push(Array.from(this.reg))),e}},t}(),V=function(){function t(t,e,r,n){this.n=3,this.N=4,this.K=3,this.gen=[],this.input=[],this.graph=[],this.i=-2,this.curr_state=0,this.table=[],this.finished=!1,this.likely_decodings=[],this.n=t,this.K=e,this.N=Math.pow(2,e-1),this.gen=r,this.input=n,this.reset()}return t.prototype.reset=function(){this.likely_decodings=[],this.curr_state=0,this.i=0,this.finished=!1,this.table=new Array,this.table.push(new Array(this.N).fill({hamming:Number.MAX_SAFE_INTEGER,prev:-1,bit:-1})),this.table[0][0]={hamming:0,prev:-1,bit:-1},this.table.push([]),this.graph=new Array;for(var t=0;t<this.N;++t){var e=X(t,this.K-1);this.graph.push({prev:[t<<1&~(1<<this.K-1),1+(t<<1&~(1<<this.K-1))],output:[this.get_output(0,e),this.get_output(1,e)]})}},t.prototype.get_output=function(t,e){for(var r=[t].concat(e),n=new Array(this.n).fill(0),i=0;i<this.n;++i)n[i]=this.gen[i].reduce(function(t,e,n){return e?(t+r[n])%2:t},0);return n},t.example=function(e){return new t(2,3,[[1,1,1],[1,0,1]],e)},t.prototype.get_prev=function(t){return this.graph[t].prev},t.prototype.get_prev_bit=function(t){return t>>this.K-2},t.prototype.prev_state=function(){if(this.finished)return this.finished=!1,this.likely_decodings=[],void this.table[this.table.length-1].pop();this.curr_state-1<0?this.i>=this.n&&(this.table.pop(),this.i-=this.n,this.table[this.table.length-1].pop(),this.curr_state=this.N-1):(this.table[this.table.length-1].pop(),this.curr_state--)},t.prototype.next_state=function(){if(this.finished)return!1;var t=this.input.slice(this.i,this.i+this.n),e=this.get_prev(this.curr_state),r=this.get_prev_bit(this.curr_state),n=this.table[this.i/this.n][e[0]].hamming+N(t,this.graph[e[0]].output[r]),i=this.table[this.i/this.n][e[1]].hamming+N(t,this.graph[e[1]].output[r]),o={};return o=n<i?{hamming:n,prev:e[0],bit:r}:{hamming:i,prev:e[1],bit:r},this.table[this.table.length-1].push(o),this.i+this.n>=this.input.length&&this.curr_state+1>=this.N?(this.finished=!0,this.get_path(),!1):(this.curr_state+1>=this.N?(this.table.push([]),this.i+=this.n,this.curr_state=0):this.curr_state++,!0)},t.prototype.next_symbol=function(){if(this.finished)return!1;var t=!0,e=this.i;do{t=this.next_state()}while(e==this.i&&t);return t},t.prototype.get_path=function(){for(var t=Number.MAX_SAFE_INTEGER,e=0;e<this.N;++e){var r=this.table[this.table.length-1][e].hamming;t=r<t?r:t}var n=this.table[this.table.length-1].map(function(t,e){var r=t.hamming;return{hamming:r,state:e}}).filter(function(e){return e.hamming==t}).map(function(t){return t.state});this.likely_decodings=[];for(var i=0,o=n;i<o.length;i++){var a=o[i],s=[];for(e=this.table.length-1;e>0;--e)s[e-1]=this.table[e][a].bit,a=this.table[e][a].prev;this.likely_decodings.push(s)}return this.likely_decodings},t.prototype.decode=function(){while(this.next_symbol());return this.get_path()},t}();var z=r("2f62");n["default"].use(z["a"]);var J=new z["a"].Store({}),q=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.encoder_obj=K.example(),e.encoder_started=!1,e.input_string="",e}return v["d"](e,t),Object.defineProperty(e.prototype,"encoder",{get:function(){return this.encoder_obj},enumerable:!0,configurable:!0}),e.prototype.set_input_string=function(t){return t},e.prototype.SET_INPUT_STRING=function(t){this.input_string=t},e.prototype.stop_encoder=function(){},e.prototype.STOP_ENCODER=function(){this.encoder_started=!1},e.prototype.start_encoder=function(t){return t},e.prototype.START_ENCODER=function(t){this.encoder_obj=new K(t.n,t.K,t.gen,t.input),this.encoder_started=!0},v["c"]([Object(B["a"])({commit:"SET_INPUT_STRING"})],e.prototype,"set_input_string",null),v["c"]([B["c"]],e.prototype,"SET_INPUT_STRING",null),v["c"]([Object(B["a"])({commit:"STOP_ENCODER"})],e.prototype,"stop_encoder",null),v["c"]([B["c"]],e.prototype,"STOP_ENCODER",null),v["c"]([Object(B["a"])({commit:"START_ENCODER"})],e.prototype,"start_encoder",null),v["c"]([B["c"]],e.prototype,"START_ENCODER",null),e=v["c"]([Object(B["b"])({dynamic:!0,store:J,name:"encoder"})],e),e}(B["d"]),Y=Object(B["e"])(q),tt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.MAX_INPUT_CHARS=4,e.GEN_COLORS=["red","blue","green","orange","purple","black"],e.K=3,e.n=3,e.gen=[[1,1,1],[0,1,1],[1,0,1]],e}return v["d"](e,t),Object.defineProperty(e.prototype,"encoder",{get:function(){return Y.encoder},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"encoder_started",{get:function(){return Y.encoder_started},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"input_string",{get:function(){return Y.input_string},set:function(t){Y.set_input_string(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"input",{get:function(){return F(this.input_string)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"show_gen",{get:function(){var t=this;return this.gen.map(function(e,r){return'(<span style="color:'+t.GEN_COLORS[r]+';">'+e+"</span>)"}).join(" , ")},enumerable:!0,configurable:!0}),e.prototype.start_encoder=function(){0==this.input_string.length||this.input_string.length>this.MAX_INPUT_CHARS||Y.start_encoder({input:this.input,K:this.K,n:this.n,gen:this.gen})},e.prototype.stop_encoder=function(){Y.stop_encoder()},e.prototype.reset_encoder=function(){this.encoder.reset()},e.prototype.latex_polynomial_string=function(t){return t.map(function(t,e){return t+(e?e>1?"x^{"+e+"}":"x":"")}).join(" + ")},e.prototype.decode=function(){var t=this.encoder.outputs.reduce(function(t,e){return t.concat(e)},[]),e={input:this.input,K:this.K,n:this.n,gen:this.gen};e.input=t,this.$router.push({name:"decoder",params:{passed_params:e}})},e=v["c"]([Object(b["a"])({components:{InputBits:y,EncoderDiagram:j,OutputBits:k}})],e),e}(b["c"]),et=tt,rt=et,nt=(r("e22b"),Object(a["a"])(rt,m,T,!1,null,"59de8994",null));nt.options.__file="ConvolutionalEncoder.vue";var it=nt.exports,ot=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"main-content"},[r("h3",{staticStyle:{"font-family":"var(--font-monospace)"}},[t._v("Viterbi Algorithm")]),r("section",[t.got_params||t.decoder_started?t.decoder_started?r("div",[r("AppButton",{attrs:{type:"warning"},nativeOn:{click:function(e){return t.stop_decoder(e)}}},[t._v("Back")]),r("br"),r("TrellisDiagramInfo"),r("p"),t._v("\n\n      Symbols:"),r("br"),r("InputErrorBits",{attrs:{bits:t.decoder_params.input,n:t.decoder_params.n,errors:t.errors,callback:function(){return{}},flip:!1,curr_symbol:t.decoder.i/t.decoder.n}}),r("TrellisDiagram",{attrs:{decoder:t.decoder}}),r("AppButton",{attrs:{disabled:0==t.decoder.i&&0==t.decoder.curr_state,type:"warning"},nativeOn:{click:function(e){return t.reset_decoder(e)}}},[t._v("<< Reset")]),r("AppButton",{attrs:{disabled:0==t.decoder.i&&0==t.decoder.curr_state},nativeOn:{click:function(e){return t.decoder.prev_state(e)}}},[t._v("< Previous State")]),r("AppButton",{attrs:{disabled:t.decoder.finished},nativeOn:{click:function(e){return t.decoder.next_state(e)}}},[t._v("Next State >")]),r("AppButton",{attrs:{disabled:t.decoder.finished},nativeOn:{click:function(e){return t.decoder.next_symbol(e)}}},[t._v("Next Symbol >>")]),r("AppButton",{attrs:{disabled:t.decoder.finished,type:"green"},nativeOn:{click:function(e){return t.decoder.decode(e)}}},[t._v("Decode >>>")]),r("p"),t._v("\n      After all entries are filled, the most likely sequence is traced back through the table, from the minimal hamming distance in the last column."),r("br"),r("p"),1==t.decoded_strings.length?r("div",[t._v("\n        The most likely input string is:"),r("br"),t._v('\n        "'+t._s(t.decoded_strings[0])+'"\n      ')]):t.decoded_strings.length>1?r("div",[t._v("\n        In this case, due to errors there are multiple equally-likely decodings."),r("br"),t._v("\n        They cannot be differentiated based on culmulative Hamming distance alone:"),r("br"),r("ul",t._l(t.decoded_strings,function(e,n){return r("li",{key:n},[t._v('\n            "'+t._s(e)+'"\n          ')])}))]):t._e()],1):r("form",[r("AppButton",{attrs:{type:"warning"},nativeOn:{click:function(e){return function(){t.got_params=!1,t.decoder_params.input=[]}()}}},[t._v("Back")]),r("br"),t._v("\n      If this is your first time looking at the Viterbi algorithm, you may want to "),r("a",{on:{click:t.start_decoder}},[t._v("skip straight to the decoder")]),t._v(" for now.\n      "),r("p"),r("h3",[t._v("Errors")]),t._v("\n      Transmission across a noisy medium may introduce errors which can be corrected during decoding."),r("br"),t._v("\n      Obviously, there is a limit to how many errors can be corrected. In this case, we can reliably correct a sequence of up to "+t._s("TODO")+" errors.\n\n      "),r("AppSpoiler",{attrs:{title:"More on correcting capability"}},[t._v("\n        The error correcting capability of a convolutional code is "),r("Math",[t._v("$\\lfloor\\frac{d - 1}{2}\\rfloor$")]),t._v(", where "),r("Math",[t._v("$d$")]),t._v(" is the 'free distance' of the code.\n        "),r("p"),t._v("\n        The free distance is just the minimal Hamming Distance between all pairs of distinct sequences of output symbols that can be produced by the encoder."),r("br"),t._v("\n        This metric gives some intuition about the maximum length of a 'burst' of errors that can still be reliably decoded.\n        "),r("p"),t._v("\n        One way to obtain "),r("Math",[t._v("$d$")]),t._v(" is to compare all possible decoding paths to the path containing all "),r("span",{staticClass:"bit-text"},[t._v("000")]),t._v(":"),r("br"),r("p"),r("ErrorTrellis",{attrs:{encoder:t.error_trellis_encoder}}),r("AppButton",{attrs:{disabled:!t.error_trellis_prev_valid},nativeOn:{click:function(e){return t.error_trellis_prev(e)}}},[t._v("< Prev")]),r("AppButton",{attrs:{disabled:!t.error_trellis_next_valid},nativeOn:{click:function(e){return t.error_trellis_next(e)}}},[t._v("Next >")]),r("p"),t._v("\n        Clearly the minimal distance is "),r("Math",[t._v("$d = 7$")]),t._v(", so we can expect our code to reliably correct up to "),r("Math",[t._v("$\\lfloor\\frac{d - 1}{2}\\rfloor = 3$")]),t._v(" errors relatively near to each other.\n        "),r("p"),t._v("\n        Note, however, that the possiblity of correcting a given set of errors in a stream is a function of both the code and the input, and deriving general metrics for allowed frequencies of erroneous symbols is non-trivial!\n      ")],1),t._v("\n\n      The encoder generates a binary stream, which we display here broken up into symbols of length "),r("Math",[t._v("$n$")]),t._v("."),r("br"),t._v("\n      Click individual bits to flip them, or just add some random error."),r("br"),r("InputErrorBits",{attrs:{bits:t.decoder_params.input,n:t.decoder_params.n,errors:t.errors,callback:t.toggle_error,flip:!0}}),r("AppButton",{nativeOn:{click:function(e){return function(){return t.errors={}}()}}},[t._v("Clear Errors")]),r("AppButton",{nativeOn:{click:function(e){return t.randomize_errors(e)}}},[t._v("Random Errors")]),r("br"),r("AppButton",{attrs:{type:"green"},nativeOn:{click:function(e){return t.start_decoder(e)}}},[t._v("Start Decoding")])],1):r("div",[t._v("\n      The Viterbi algorithm is a Dynamic Programming algorithm that can be used to efficiently decode "),r("router-link",{attrs:{to:{name:"encoder",params:{}}}},[t._v("Convolutional Codes")]),t._v("."),r("br"),t._v("\n      This page is really a continuation of that topic, so you may want to read that first.\n\n      "),r("HorizLine"),t._v("\n      First we need to encode some data."),r("br"),t._v("\n      We will use an encoder with the following parameters:"),r("br"),r("div",{staticClass:"params"},[r("Math",[t._v("\n        $K = 3$"),r("br"),t._v("\n        $n = 3$"),r("br")]),t._v("\n        generator polynomials: "+t._s(t.decoder_params.gen.map(function(t){return"("+t+")"}).join(" , "))),r("br")],1),t._v("\n      Please enter a short string:\n      "),r("p"),r("AppInput",{staticStyle:{width:"40px"},attrs:{valid:t.input_string.length<=t.MAX_INPUT_CHARS},model:{value:t.input_string,callback:function(e){t.input_string=e},expression:"input_string"}}),t._v("\n        "),t.input_string.length>t.MAX_INPUT_CHARS?r("span",[t._v("Please limit the input to "+t._s(t.MAX_INPUT_CHARS)+" characters")]):t._e(),r("p"),t.input_string.length>0&&t.input_string.length<=t.MAX_INPUT_CHARS?r("div",[t._v("\n        Input binary:"),r("br"),r("InputBits",{attrs:{bits:t.encoder_input,index:-50,K:0}})],1):t._e(),r("p"),r("AppButton",{attrs:{type:"green"},nativeOn:{click:function(e){return t.encode_string(e)}}},[t._v("Encode")])],1)])])},at=[],st=(r("ac6a"),r("456d"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"binary-container"},t._l(t.grouped_bits,function(e,n){return r("div",[r("span",{class:"symbol-item "+(t.flip||n!=t.curr_symbol?"binary-item-border":"binary-item-border-selected")},t._l(e,function(e,i){return r("span",{class:"bit-item "+(t.errors[n*t.n+i]?"bit-error":""),on:{click:function(e){t.callback(n*t.n+i)}}},[t._v("\n        "+t._s(t.flip&&t.errors[n*t.n+i]?Number(!e):e)+"\n      ")])}))])}))}),_t=[],ct=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.actual_errors={},e}return v["d"](e,t),Object.defineProperty(e.prototype,"grouped_bits",{get:function(){var t=this;return this.bits.reduce(function(e,r,n){return n%t.n==0?e.push([r]):e[e.length-1].push(r),e},[])},enumerable:!0,configurable:!0}),v["c"]([Object(b["b"])(Array)],e.prototype,"bits",void 0),v["c"]([Object(b["b"])(Object)],e.prototype,"errors",void 0),v["c"]([Object(b["b"])(Number)],e.prototype,"n",void 0),v["c"]([Object(b["b"])(Function)],e.prototype,"callback",void 0),v["c"]([Object(b["b"])(Boolean)],e.prototype,"flip",void 0),v["c"]([Object(b["b"])({type:Number,default:-1})],e.prototype,"curr_symbol",void 0),e=v["c"]([b["a"]],e),e}(b["c"]),lt=ct,ut=lt,pt=(r("4dec"),Object(a["a"])(ut,st,_t,!1,null,"ed16c2d4",null));pt.options.__file="InputErrorBits.vue";var ht=pt.exports,dt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("AppSvg",{attrs:{width:t.STATE_LABEL_WIDTH+t.STATES_TRELLIS_GAP+8*(t.TRELLIS_RECT_SIZE+t.TRELLIS_HORIZ_GAP)+2*t.MARGIN,height:t.TRELLIS_OFFSET+t.states.length*(t.SQUARE_WIDTH+t.TRELLIS_VERT_GAP)-t.TRELLIS_VERT_GAP+2*t.MARGIN}},[r("g",{attrs:{transform:"translate("+t.MARGIN+","+t.MARGIN+")"}},[r("g",{attrs:{transform:"translate(0,"+t.TRELLIS_OFFSET+")"}},[r("g",{attrs:{transform:"translate("+.25*-t.SQUARE_WIDTH+","+(t.SQUARE_WIDTH+t.TRELLIS_VERT_GAP)*t.states.length/2+")"}},[r("g",{attrs:{transform:"rotate(-90)"}},[r("text",{style:"font-size:"+t.FONT_SIZE_SMALL+";"},[r("tspan",{attrs:{"text-anchor":"middle"}},[t._v("\n                encoder states\n              ")])])])]),t._l(t.states,function(e,n){return r("g",{attrs:{transform:"translate(0,"+n*(t.SQUARE_WIDTH+t.TRELLIS_VERT_GAP)+")"}},[r("rect",{attrs:{width:t.STATE_LABEL_WIDTH,height:t.SQUARE_WIDTH,stroke:"black","stroke-width":"2",fill:"white"}}),r("text",{staticClass:"decoder-svg-text",style:"font-size:"+t.FONT_SIZE+";",attrs:{x:t.STATE_LABEL_WIDTH/2,y:t.SQUARE_WIDTH*t.TEXT_BOX_VERT}},[r("tspan",{attrs:{"text-anchor":"middle"}},[t._v("\n              "+t._s(e.join(""))+"\n            ")])])])})],2),t._l(t.states,function(e,n){return r("g",{attrs:{transform:"translate("+(t.STATE_LABEL_WIDTH+t.STATES_TRELLIS_GAP/2)+","+(t.TRELLIS_OFFSET+n*t.SQUARE_WIDTH*2)+")"}},[r("rect",{attrs:{width:t.STATES_TRELLIS_GAP+6*(t.TRELLIS_HORIZ_GAP+t.TRELLIS_RECT_SIZE)+t.TRELLIS_RECT_SIZE,height:t.SQUARE_WIDTH,fill:"var(--color-light-gray)"}})])}),r("g",{attrs:{transform:"translate("+(t.STATE_LABEL_WIDTH+t.STATES_TRELLIS_GAP)+",0)"}},[r("g",{attrs:{transform:"translate("+(t.TRELLIS_RECT_SIZE+t.TRELLIS_HORIZ_GAP/2-t.OUTPUT_LABEL_WIDTH)+","+-t.SMALL_LABEL_HEIGHT/4+")"}},[r("rect",{attrs:{width:5*(t.TRELLIS_HORIZ_GAP+t.TRELLIS_RECT_SIZE)+2*t.OUTPUT_LABEL_WIDTH,height:t.SQUARE_WIDTH,fill:"var(--color-gray)"}}),r("g",{attrs:{transform:"translate("+(2*(t.TRELLIS_HORIZ_GAP+t.TRELLIS_RECT_SIZE)+t.OUTPUT_LABEL_WIDTH)+","+-t.SMALL_LABEL_HEIGHT/2+")"}},[r("text",{style:"font-size:"+t.FONT_SIZE_SMALL+";"},[r("tspan",{attrs:{"text-anchor":"middle"}},[t._v("\n                Hamming distance: "+t._s(t.hamming)+"\n              ")])])])]),r("g",{attrs:{transform:"translate("+(t.TRELLIS_RECT_SIZE+t.TRELLIS_HORIZ_GAP/2-t.OUTPUT_LABEL_WIDTH/2)+",0)"}},t._l(t.encoder.outputs,function(e,n){return r("g",{attrs:{transform:"translate("+n*(t.TRELLIS_HORIZ_GAP+t.TRELLIS_RECT_SIZE)+",0)"}},[r("rect",{attrs:{width:t.OUTPUT_LABEL_WIDTH,height:t.SMALL_LABEL_HEIGHT,stroke:"black","stroke-width":"2",fill:"white"}}),r("text",{staticClass:"decoder-svg-text",style:"font-size:"+t.FONT_SIZE_SMALL+";",attrs:{x:t.OUTPUT_LABEL_WIDTH/2,y:t.SMALL_LABEL_HEIGHT*t.TEXT_BOX_VERT}},[r("tspan",{attrs:{"text-anchor":"middle"}},[t._v("\n                "+t._s(e.join(""))+"\n              ")])])])})),r("g",{attrs:{transform:"translate(0, "+(t.TRELLIS_OFFSET+t.SQUARE_WIDTH/2-t.TRELLIS_RECT_SIZE/2)+")"}},[t._l(t.encoder.states,function(e,n){return r("g",{attrs:{transform:"translate("+n*(t.TRELLIS_HORIZ_GAP+t.TRELLIS_RECT_SIZE)+",0)"}},t._l(t.states,function(e,n){return r("g",{attrs:{transform:"translate(0,"+n*(t.TRELLIS_VERT_GAP+t.SQUARE_WIDTH)+")"}},[r("rect",{attrs:{width:t.TRELLIS_RECT_SIZE,height:t.TRELLIS_RECT_SIZE,stroke:"none",fill:"black"}})])}))}),t._l(t.state_links,function(e,n){return r("g",{attrs:{transform:"translate("+(n*(t.TRELLIS_HORIZ_GAP+t.TRELLIS_RECT_SIZE)+t.TRELLIS_RECT_SIZE/2)+",0)"}},[r("g",{attrs:{transform:"translate(0,"+(t.TRELLIS_RECT_SIZE/2+e.prev*(t.TRELLIS_VERT_GAP+t.SQUARE_WIDTH))+")"}},[r("polyline",{attrs:{points:"0 0, "+(t.TRELLIS_HORIZ_GAP+t.TRELLIS_RECT_SIZE)+" "+(e.next-e.prev)*(t.TRELLIS_VERT_GAP+t.SQUARE_WIDTH),"stroke-dasharray":""+(e.bit?"none":t.DASH_ARRAY),stroke:"black","stroke-width":"2",fill:"transparent"}})])])})],2)])],2)])],1)},ft=[],gt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.N=Math.pow(2,e.encoder.K-1),e.SCALING_FACTOR=2/3/e.N,e.MARGIN=40,e.FONT_SIZE=7*e.SCALING_FACTOR+"em",e.FONT_SIZE_SMALL=5*e.SCALING_FACTOR+"em",e.SQUARE_WIDTH=175*e.SCALING_FACTOR,e.TRELLIS_OFFSET=1.5*e.SQUARE_WIDTH,e.TRELLIS_VERT_GAP=e.SQUARE_WIDTH,e.TRELLIS_HORIZ_GAP=3*e.SQUARE_WIDTH,e.STATES_TRELLIS_GAP=e.SQUARE_WIDTH,e.STATE_CHAR_WIDTH=32*e.SCALING_FACTOR,e.STATE_LABEL_WIDTH=e.SQUARE_WIDTH+e.STATE_CHAR_WIDTH*(e.encoder.K-1),e.CHAR_WIDTH=46*e.SCALING_FACTOR,e.OUTPUT_LABEL_WIDTH=e.CHAR_WIDTH*(e.encoder.n+2),e.SMALL_LABEL_HEIGHT=2*e.SQUARE_WIDTH/3,e.BIT_LABEL_WIDTH=4*e.CHAR_WIDTH,e.TRELLIS_RECT_SIZE=e.SQUARE_WIDTH/4,e.TEXT_BOX_VERT=.75,e.DASH_ARRAY=6,e}return v["d"](e,t),Object.defineProperty(e.prototype,"states",{get:function(){var t=this;return new Array(this.N).fill(0).map(function(e,r){return X(r,t.encoder.K-1)})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hamming",{get:function(){var t=new Array(this.encoder.n).fill(0);return this.encoder.outputs.slice(0,this.state_links.length).reduce(function(e,r){return e+N(t,r)},0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"state_links",{get:function(){for(var t=[],e=0;e<this.encoder.states.length-1;++e){var r=Z(this.encoder.states[e+1].slice(1));if(t.push({prev:Z(this.encoder.states[e].slice(1)),next:r,bit:this.encoder.states[e][0]}),0===r)return t}return t},enumerable:!0,configurable:!0}),v["c"]([Object(b["b"])(Object)],e.prototype,"encoder",void 0),e=v["c"]([b["a"]],e),e}(b["c"]),mt=gt,Tt=mt,vt=(r("8090"),Object(a["a"])(Tt,dt,ft,!1,null,"c3177c0a",null));vt.options.__file="ErrorTrellisDiagram.vue";var bt=vt.exports,At=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("AppSvg",{attrs:{width:t.STATE_LABEL_WIDTH+t.STATES_TRELLIS_GAP+3*(t.TRELLIS_LABEL_WIDTH+t.TRELLIS_HORIZ_GAP)+2*t.MARGIN,height:t.TRELLIS_OFFSET+t.states.length*(t.SQUARE_WIDTH+t.TRELLIS_VERT_GAP)-t.TRELLIS_VERT_GAP+2*t.MARGIN}},[r("g",{attrs:{transform:"translate("+t.MARGIN+","+t.MARGIN+")"}},[r("g",{attrs:{transform:"translate(0,"+t.TRELLIS_OFFSET+")"}},[r("g",{attrs:{transform:"translate("+.25*-t.SQUARE_WIDTH+","+(t.SQUARE_WIDTH+t.TRELLIS_VERT_GAP)*t.states.length/2+")"}},[r("g",{attrs:{transform:"rotate(-90)"}},[r("text",{style:"font-size:"+t.FONT_SIZE_SMALL+";"},[r("tspan",{attrs:{"text-anchor":"middle"}},[t._v("\n                encoder states\n              ")])])])]),t._l(t.states,function(e,n){return r("g",{attrs:{transform:"translate(0,"+n*(t.SQUARE_WIDTH+t.TRELLIS_VERT_GAP)+")"}},[r("rect",{attrs:{width:t.STATE_LABEL_WIDTH,height:t.SQUARE_WIDTH,stroke:"black","stroke-width":"2",fill:"white"}}),r("text",{staticClass:"decoder-svg-text",style:"font-size:"+t.FONT_SIZE+";",attrs:{x:t.STATE_LABEL_WIDTH/2,y:t.SQUARE_WIDTH*t.TEXT_BOX_VERT}},[r("tspan",{attrs:{"text-anchor":"middle"}},[t._v("\n              "+t._s(e.join(""))+"\n            ")])])])})],2),t._l(t.states,function(e,n){return r("g",{attrs:{transform:"translate("+(t.STATE_LABEL_WIDTH+t.STATES_TRELLIS_GAP/2)+","+(t.TRELLIS_OFFSET+n*t.SQUARE_WIDTH*2)+")"}},[r("rect",{attrs:{width:3*(t.TRELLIS_HORIZ_GAP+t.TRELLIS_LABEL_WIDTH)+t.STATES_TRELLIS_GAP/2,height:t.SQUARE_WIDTH,fill:"var(--color-light-gray)"}})])}),r("g",{attrs:{transform:"translate("+(t.STATE_LABEL_WIDTH+t.STATES_TRELLIS_GAP)+",0)"}},[r("g",{attrs:{transform:"translate("+(t.TRELLIS_LABEL_WIDTH+t.TRELLIS_HORIZ_GAP/2-t.OUTPUT_LABEL_WIDTH)+","+-t.SMALL_LABEL_HEIGHT/4+")"}},[r("rect",{attrs:{width:2*(t.TRELLIS_HORIZ_GAP+t.TRELLIS_LABEL_WIDTH+t.OUTPUT_LABEL_WIDTH),height:t.SQUARE_WIDTH,fill:"var(--color-gray)"}}),r("g",{attrs:{transform:"translate("+(t.TRELLIS_HORIZ_GAP+t.TRELLIS_LABEL_WIDTH+t.OUTPUT_LABEL_WIDTH)+","+-t.SMALL_LABEL_HEIGHT/4+")"}},[r("text",{style:"font-size:"+t.FONT_SIZE_SMALL+";"},[r("tspan",{attrs:{"text-anchor":"middle"}},[t._v("\n                symbols\n              ")])])])]),r("g",{attrs:{transform:"translate("+(t.TRELLIS_LABEL_WIDTH+t.TRELLIS_HORIZ_GAP/2-t.OUTPUT_LABEL_WIDTH/2)+",0)"}},t._l(t.symbols,function(e,n){return r("g",{attrs:{transform:"translate("+n*(t.TRELLIS_HORIZ_GAP+t.TRELLIS_LABEL_WIDTH)+",0)"}},[r("rect",{attrs:{width:t.OUTPUT_LABEL_WIDTH,height:t.SMALL_LABEL_HEIGHT,stroke:(t.decoder.table.length<=2&&0==n||t.decoder.table.length>2&&1==n)&&!t.decoder.finished?"var(--color-green)":"black","stroke-width":"2",fill:"white"}}),r("text",{staticClass:"decoder-svg-text",style:"font-size:"+t.FONT_SIZE_SMALL+";",attrs:{x:t.OUTPUT_LABEL_WIDTH/2,y:t.SMALL_LABEL_HEIGHT*t.TEXT_BOX_VERT}},[r("tspan",{attrs:{"text-anchor":"middle"}},[t._v("\n                "+t._s(e.join(""))+"\n              ")])])])})),r("g",{attrs:{transform:"translate(0, "+(t.TRELLIS_OFFSET+t.SQUARE_WIDTH/2-t.SMALL_LABEL_HEIGHT/2)+")"}},[t._l(t.table,function(e,n){return r("g",{attrs:{transform:"translate("+n*(t.TRELLIS_HORIZ_GAP+t.TRELLIS_LABEL_WIDTH)+",0)"}},[t._l(e,function(e,n){return r("g",{attrs:{transform:"translate(0,"+n*(t.TRELLIS_VERT_GAP+t.SQUARE_WIDTH)+")"}},[r("rect",{attrs:{width:t.TRELLIS_LABEL_WIDTH,height:t.SMALL_LABEL_HEIGHT,stroke:"black","stroke-width":"2",fill:"white"}}),e.hamming<Number.MAX_SAFE_INTEGER?r("text",{style:"font-size:"+t.FONT_SIZE_SMALL+";",attrs:{x:t.TRELLIS_LABEL_WIDTH/2,y:t.SMALL_LABEL_HEIGHT*t.TEXT_BOX_VERT}},[r("tspan",{attrs:{"text-anchor":"middle"}},[t._v("\n                  "+t._s(e.hamming)+"\n                ")])]):t._e(),e.hamming>=Number.MAX_SAFE_INTEGER?r("g",{attrs:{transform:"translate("+t.TRELLIS_LABEL_WIDTH/2+","+t.SMALL_LABEL_HEIGHT*t.TEXT_BOX_VERT+")"}},[r("text",{attrs:{fill:"red","font-size":"1.5em"}},[r("tspan",{attrs:{"text-anchor":"middle"}},[t._v("X")])])]):t._e()])}),t._l(e,function(e,i){return n>0?r("g",{attrs:{transform:"translate(0,"+(t.SMALL_LABEL_HEIGHT/2+i*(t.TRELLIS_VERT_GAP+t.SQUARE_WIDTH))+")"}},[t.table[n-1][e.prev].hamming<Number.MAX_SAFE_INTEGER?r("polyline",{attrs:{points:"0 0, "+-t.TRELLIS_HORIZ_GAP+" "+(e.prev-i)*(t.TRELLIS_VERT_GAP+t.SQUARE_WIDTH),"stroke-dasharray":""+(e.bit?"none":t.DASH_ARRAY),stroke:"black","stroke-width":"2",fill:"transparent"}}):t._e()]):t._e()})],2)}),t.decoder.finished?t._e():r("g",{attrs:{transform:"translate("+(t.table.length-1)*(t.TRELLIS_HORIZ_GAP+t.TRELLIS_LABEL_WIDTH)+","+t.decoder.curr_state*(t.TRELLIS_VERT_GAP+t.SQUARE_WIDTH)+")"}},[r("rect",{attrs:{width:t.curr_state_width,height:t.SMALL_LABEL_HEIGHT,stroke:"var(--color-light-blue)","stroke-width":"2",fill:"white"}}),r("text",{style:"font-size:"+t.FONT_SIZE_SMALL+";",attrs:{x:t.curr_state_width/2,y:t.SMALL_LABEL_HEIGHT*t.TEXT_BOX_VERT}},[r("tspan",{attrs:{"text-anchor":"middle"}},[t._v("\n                "+t._s(t.curr_state_text)+"\n              ")])]),t._l(t.curr_state_obj.prev,function(e){return e.hamming<Number.MAX_SAFE_INTEGER?r("g",{attrs:{transform:"translate(0,"+t.SMALL_LABEL_HEIGHT/2+")"}},[r("polyline",{attrs:{points:"0 0, "+-t.TRELLIS_HORIZ_GAP+" "+(e.state-t.decoder.curr_state)*(t.TRELLIS_VERT_GAP+t.SQUARE_WIDTH),"stroke-dasharray":""+(t.curr_state_obj.bit?"none":t.DASH_ARRAY),stroke:"var(--color-light-blue)","stroke-width":"2",fill:"transparent"}}),r("g",{attrs:{transform:"translate("+(.7*-t.TRELLIS_HORIZ_GAP-t.OUTPUT_LABEL_WIDTH/2)+", "+((e.state-t.decoder.curr_state)*(t.TRELLIS_VERT_GAP+t.SQUARE_WIDTH)*.7-t.SMALL_LABEL_HEIGHT/2)+")"}},[r("rect",{attrs:{width:t.OUTPUT_LABEL_WIDTH,height:t.SMALL_LABEL_HEIGHT,stroke:"var(--color-light-blue)","stroke-width":"2",fill:"white"}}),r("text",{staticClass:"decoder-svg-text",style:"font-size:"+t.FONT_SIZE_SMALL+";",attrs:{x:t.OUTPUT_LABEL_WIDTH/2,y:t.SMALL_LABEL_HEIGHT*t.TEXT_BOX_VERT}},[r("tspan",{attrs:{"text-anchor":"middle"}},[t._v("\n                    "+t._s(e.output.join(""))+"\n                  ")])])])]):t._e()})],2)],2)])],2)])],1)},Et=[],Lt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.SCALING_FACTOR=1/e.decoder.N,e.MARGIN=40,e.FONT_SIZE=7*e.SCALING_FACTOR+"em",e.FONT_SIZE_SMALL=5*e.SCALING_FACTOR+"em",e.SQUARE_WIDTH=175*e.SCALING_FACTOR,e.TRELLIS_OFFSET=1.5*e.SQUARE_WIDTH,e.TRELLIS_VERT_GAP=e.SQUARE_WIDTH,e.TRELLIS_HORIZ_GAP=3*e.SQUARE_WIDTH,e.STATES_TRELLIS_GAP=e.SQUARE_WIDTH,e.STATE_CHAR_WIDTH=32*e.SCALING_FACTOR,e.STATE_LABEL_WIDTH=e.SQUARE_WIDTH+e.STATE_CHAR_WIDTH*(e.decoder.K-1),e.CHAR_WIDTH=46*e.SCALING_FACTOR,e.OUTPUT_LABEL_WIDTH=e.CHAR_WIDTH*(e.decoder.n+2),e.TRELLIS_LABEL_WIDTH=e.SQUARE_WIDTH+e.CHAR_WIDTH*(e.decoder.K-1),e.SMALL_LABEL_HEIGHT=2*e.SQUARE_WIDTH/3,e.BIT_LABEL_WIDTH=4*e.CHAR_WIDTH,e.TEXT_BOX_VERT=.75,e.DASH_ARRAY=6,e}return v["d"](e,t),Object.defineProperty(e.prototype,"curr_state_obj",{get:function(){var t=this,e=this.decoder.curr_state,r=this.decoder.get_prev_bit(e),n=this.decoder.get_prev(e),i=n.map(function(e){return{state:e,hamming:t.decoder.table[t.decoder.table.length-2][e].hamming,output:t.decoder.graph[e].output[r],add_hamming:N(t.symbols[1],t.decoder.graph[e].output[r])}});return{index:e,bit:r,prev:i}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"curr_i",{get:function(){return Math.max(0,this.decoder.i-this.decoder.n)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"table",{get:function(){return this.decoder.table.slice(this.curr_i/this.decoder.n,this.curr_i/this.decoder.n+4)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"states",{get:function(){var t=this;return new Array(this.decoder.N).fill(0).map(function(e,r){return X(r,t.decoder.K-1)})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"symbols",{get:function(){var t=this;return this.decoder.input.slice(this.curr_i,this.curr_i+3*this.decoder.n).reduce(function(e,r,n){return n%t.decoder.n==0&&e.push([]),e[e.length-1].push(r),e},[])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"curr_state_text",{get:function(){var t=this.curr_state_obj.prev.filter(function(t){return t.hamming<Number.MAX_SAFE_INTEGER});return 0==t.length?"N/A":1==t.length?t[0].hamming+" + "+t[0].add_hamming:"min("+this.curr_state_obj.prev[0].hamming+" + "+this.curr_state_obj.prev[0].add_hamming+", "+this.curr_state_obj.prev[1].hamming+" + "+this.curr_state_obj.prev[1].add_hamming+")"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"curr_state_width",{get:function(){var t=this.curr_state_obj.prev.filter(function(t){return t.hamming<Number.MAX_SAFE_INTEGER});return 0==t.length?this.TRELLIS_LABEL_WIDTH:1==t.length?this.TRELLIS_LABEL_WIDTH:2.7*this.TRELLIS_LABEL_WIDTH},enumerable:!0,configurable:!0}),v["c"]([Object(b["b"])(Object)],e.prototype,"decoder",void 0),e=v["c"]([b["a"]],e),e}(b["c"]),It=Lt,St=It,Rt=(r("c329"),Object(a["a"])(St,At,Et,!1,null,"83516b52",null));Rt.options.__file="Diagram.vue";var yt=Rt.exports,Ht=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h3",[t._v("Trellis Diagram")]),t._v("\n  The Trellis Diagram below visualises the process of using the Viterbi Algorithm to decode an encoded message.\n  "),r("p"),t._v("\n  The algorithm works by attempting to retrace the encoder's steps and infer the most likely sequence of states which led to the given sequence of symbols, using the Hamming distance as a proxy for likelyhood.\n\n  "),r("AppSpoiler",{attrs:{title:"More on the Hamming distance"}},[t._v("\n    The Hamming distance "),r("Math",[t._v("$h(x, y)$")]),t._v(" is defined by:"),r("br"),r("Math",[t._v("$$\n      \\boldsymbol{x} = x_1, x_2, ..., x_k \\\\\n      \\boldsymbol{y} = y_1, y_2, ..., y_k \\\\\n      x_i, y_i \\in \\{0, 1\\}\\ \\ 1 \\leq i \\leq k \\\\\n      h(\\boldsymbol{x},\\boldsymbol{y}) = \\sum_{i=1}^{k}|x_i - y_i|\n      $$")])],1),t._v("\n\n  To compute each "),r("span",{staticStyle:{color:"var(--color-light-blue)","font-weight":"bold"}},[t._v("new entry")]),t._v(" of the table, up to two previous states are considered."),r("br"),t._v("\n  For each of these, the Hamming distance between the expected output symbol and the "),r("span",{staticStyle:{color:"var(--color-green)","font-weight":"bold"}},[t._v("actual output symbol")]),t._v(" is computed, and added to the accumulated hamming distance from the previous state."),r("br"),t._v("\n  The minimum of these is taken to be the most likely.\n  "),r("p"),t._v("\n  A dashed line\n  ("),r("AppSvg",{attrs:{width:t.TRELLIS_LABEL_WIDTH,height:t.SMALL_LABEL_HEIGHT/2}},[r("polyline",{attrs:{points:"0 "+t.SMALL_LABEL_HEIGHT/4+", "+t.TRELLIS_LABEL_WIDTH+" "+t.SMALL_LABEL_HEIGHT/4,"stroke-dasharray":t.DASH_ARRAY,stroke:"black","stroke-width":"2",fill:"transparent"}})]),t._v(")\n   is drawn if the input bit that produced the state transition was a "),r("Math",[t._v("$0$")]),t._v(",\n  and a solid line\n  ("),r("AppSvg",{attrs:{width:t.TRELLIS_LABEL_WIDTH,height:t.SMALL_LABEL_HEIGHT/2}},[r("polyline",{attrs:{points:"0 "+t.SMALL_LABEL_HEIGHT/4+", "+t.TRELLIS_LABEL_WIDTH+" "+t.SMALL_LABEL_HEIGHT/4,stroke:"black","stroke-width":"2",fill:"transparent"}})]),t._v(")\n  is drawn for a "),r("Math",[t._v("$1$")]),t._v(".\n  "),r("p"),t._v("\n  Since we know the encoder's initial state, some states are impossible at early stages of decoding. These are denoted with "),r("span",{staticStyle:{color:"red","font-size":"1.5em"}},[t._v("X")]),r("br")],1)},Ot=[],xt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.MARGIN=2,e.SCALING_FACTOR=.25,e.SQUARE_WIDTH=175*e.SCALING_FACTOR,e.CHAR_WIDTH=46*e.SCALING_FACTOR,e.OUTPUT_LABEL_WIDTH=5*e.CHAR_WIDTH,e.TRELLIS_LABEL_WIDTH=e.SQUARE_WIDTH+3*e.CHAR_WIDTH,e.SMALL_LABEL_HEIGHT=2*e.SQUARE_WIDTH/3,e.TEXT_BOX_VERT=.75,e.DASH_ARRAY=6,e}return v["d"](e,t),e=v["c"]([b["a"]],e),e}(b["c"]),Dt=xt,wt=Dt,Mt=(r("4b03"),Object(a["a"])(wt,Ht,Ot,!1,null,"60a4fb42",null));Mt.options.__file="DiagramInfo.vue";var kt=Mt.exports,Gt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.decoder_obj=V.example([]),e.decoder_started=!1,e}return v["d"](e,t),Object.defineProperty(e.prototype,"decoder",{get:function(){return this.decoder_obj},enumerable:!0,configurable:!0}),e.prototype.stop_decoder=function(){},e.prototype.STOP_DECODER=function(){this.decoder_started=!1},e.prototype.start_decoder=function(t){return t},e.prototype.START_DECODER=function(t){this.decoder_obj=new V(t.n,t.K,t.gen,t.input),this.decoder_started=!0},v["c"]([Object(B["a"])({commit:"STOP_DECODER"})],e.prototype,"stop_decoder",null),v["c"]([B["c"]],e.prototype,"STOP_DECODER",null),v["c"]([Object(B["a"])({commit:"START_DECODER"})],e.prototype,"start_decoder",null),v["c"]([B["c"]],e.prototype,"START_DECODER",null),e=v["c"]([Object(B["b"])({dynamic:!0,store:J,name:"decoder"})],e),e}(B["d"]),Wt=Object(B["e"])(Gt),Pt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.MAX_INPUT_CHARS=4,e.got_params=!1,e.input_string="",e.errors={},e.decoder_params={input:[],K:3,n:3,gen:[[1,1,1],[0,1,1],[1,0,1]]},e.error_trellis_input_length=6,e.error_trellis_input_num=252,e.error_trellis_encoder=new K(3,3,e.decoder_params.gen,e.error_trellis_input),e}return v["d"](e,t),Object.defineProperty(e.prototype,"encoder_input",{get:function(){return F(this.input_string)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"decoder",{get:function(){return Wt.decoder},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"decoder_started",{get:function(){return Wt.decoder_started},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"decoded_strings",{get:function(){return this.decoder.likely_decodings.map(Q)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"error_trellis_input",{get:function(){return X(this.error_trellis_input_num,this.error_trellis_input_length)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"error_trellis_next_valid",{get:function(){return this.error_trellis_input_num>230},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"error_trellis_prev_valid",{get:function(){return this.error_trellis_input_num<252},enumerable:!0,configurable:!0}),e.prototype.error_trellis_next=function(){this.error_trellis_next_valid&&(this.error_trellis_input_num-=2,this.error_trellis_encoder=new K(3,3,this.decoder_params.gen,this.error_trellis_input),this.error_trellis_encoder.encodeAndFlatten())},e.prototype.error_trellis_prev=function(){this.error_trellis_prev_valid&&(this.error_trellis_input_num+=2,this.error_trellis_encoder=new K(3,3,this.decoder_params.gen,this.error_trellis_input),this.error_trellis_encoder.encodeAndFlatten())},e.prototype.toggle_error=function(t){this.errors[t]=!this.errors[t],this.errors=v["a"]({},this.errors)},e.prototype.randomize_errors=function(){var t=new Array(this.decoder_params.input.length).fill(!1);this.errors=t.reduce(function(t,e,r){return t[r]=Boolean(Math.round(3*Math.random()/5)),t},{})},e.prototype.apply_errors=function(){var t=this;Object.keys(this.errors).map(function(e){t.errors[e]&&(t.decoder_params.input[Number(e)]=Number(!t.decoder_params.input[Number(e)]))})},e.prototype.start_decoder=function(){this.apply_errors(),Wt.start_decoder(this.decoder_params)},e.prototype.stop_decoder=function(){this.apply_errors(),Wt.stop_decoder()},e.prototype.reset_decoder=function(){this.decoder.reset()},e.prototype.created=function(){this.passed_params&&(this.decoder_params=this.passed_params,this.got_params=!0,Wt.stop_decoder()),this.error_trellis_encoder.encodeAndFlatten()},e.prototype.encode_string=function(){if(!(0===this.input_string.length||this.input_string.length>this.MAX_INPUT_CHARS)){var t=new K(this.decoder_params.n,this.decoder_params.K,this.decoder_params.gen,this.encoder_input);this.decoder_params.input=t.encodeAndFlatten(),this.got_params=!0}},v["c"]([Object(b["b"])({type:Object,default:function(){return null}})],e.prototype,"passed_params",void 0),e=v["c"]([Object(b["a"])({components:{InputBits:y,OutputBits:k,InputErrorBits:ht,TrellisDiagram:yt,ErrorTrellis:bt,TrellisDiagramInfo:kt}})],e),e}(b["c"]),Ut=Pt,Ct=Ut,$t=(r("82fc"),Object(a["a"])(Ct,ot,at,!1,null,"6b3a15ff",null));$t.options.__file="ViterbiDecoder.vue";var jt=$t.exports,Bt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"main-content"},[r("h3",{staticStyle:{"font-family":"var(--font-monospace)"}},[t._v("PageRank")]),r("section",[t._v("\n\n    Consider this graph of the internet. Each node represents a web page, with each arrow representing a link from one webpage to another."),r("br"),r("GraphDiagram",{attrs:{graph:t.adj_matrix}}),r("AppButton",{attrs:{disabled:t.graph_timeout},nativeOn:{click:function(e){return t.make_random_graph(e)}}},[t._v("Randomize")]),t._v("  "),t.graph_timeout?r("span",[t._v("Wait a moment...")]):t._e(),r("p"),t._v("\n    We wish to find an 'importance' score "),r("Math",[t._v("$\\rho(P_i)$")]),t._v(" for each page "),r("Math",[t._v("$P_i$")]),t._v(" which satisfies the following:\n    "),r("p"),r("Math",[t._v("$$\n      \\rho(P_i) = \\sum_{P_j:P_j \\to P_i} \\frac{\\rho(P_j)}{\\#(P_j)}\n      $$")]),r("p"),t._v("\n    Where "),r("Math",[t._v("$\\#(P_j)$")]),t._v(" is the number of outgoing links from "),r("Math",[t._v("$P_j$")]),t._v(".\n    "),r("p"),t._v("\n    We can construct the corresponding Google matrix:\n    "),r("p"),r("DynamicMath",{attrs:{data:t.g1_matrix_string}}),r("p"),r("DynamicMath",{attrs:{data:t.g2_matrix_string}}),r("p"),t._v("\n    Selecting "),r("Math",[t._v("$\\alpha = \\frac{85}{100}$")]),t._v(". The final matrix "),r("Math",[t._v("$G$")]),t._v(" will be:\n    "),r("p"),r("DynamicMath",{attrs:{data:t.g_matrix_string}}),r("p"),t._v("\n    We can now iterate to approach a stationary distribution "),r("Math",[t._v("$\\boldsymbol{\\rho}$")]),t._v(" using the update rule:\n    "),r("Math",[t._v("$$ (\\boldsymbol{\\rho}^{(t+1)})^{T} = (\\boldsymbol{\\rho}^{(t)})^{T}G $$")]),r("p"),t._v("\n    Initialising each "),r("Math",[t._v("$\\rho^{(0)}_i = \\frac{1}{N}$")]),t._v(", we have:\n    "),r("div",{style:"min-height:"+33*t.adj_matrix.length+"px;"},[r("DynamicMath",{attrs:{data:t.iterate_string}})],1),r("p"),r("AppButton",{attrs:{disabled:t.t+1==1,type:"warning"},nativeOn:{click:function(e){return t.init_iteration(e)}}},[t._v("Reset")]),r("AppButton",{attrs:{disabled:t.t>=100},nativeOn:{click:function(e){return t.do_iteration(e)}}},[t._v("1 Iteration >")]),r("AppButton",{attrs:{disabled:t.t>=100},nativeOn:{click:function(e){return t.do_iteration_10(e)}}},[t._v("10 Iterations >>")]),r("p"),t._v("\n    After "+t._s(t.t+1)+" iteration"+t._s(t.t+1==1?"":"s")+", "),r("DynamicMath",{attrs:{data:t.iteration_norm_string}}),r("p"),t._v("\n    We now rank the webpages from most to least important:\n    "),r("p"),r("DynamicMath",{attrs:{data:t.ranked_pages_string}})],1)])},Nt=[],Ft=(r("55dd"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("AppSvg",{attrs:{width:t.WIDTH+2*t.MARGIN,height:t.HEIGHT+2*t.MARGIN}},[r("defs",[r("marker",{attrs:{id:"arrow",viewBox:"0 0 10 10",refX:"0",refY:"5",markerWidth:"6",markerHeight:t.MARKER_HEIGHT,orient:"auto-start-reverse"}},[r("path",{attrs:{d:"M 0 0 L 10 5 L 0 10 z"}})])]),r("g",{attrs:{transform:"translate("+t.MARGIN+","+t.MARGIN+")"}},[r("rect",{attrs:{width:t.WIDTH,height:t.HEIGHT,fill:"var(--color-light-gray)"}}),r("g",{attrs:{transform:"translate("+t.WIDTH/2+","+t.HEIGHT/2+")"}},[t._l(t.graph,function(e,n){return r("g",[r("g",{attrs:{transform:"translate("+t.BIG_RADIUS*t.node_x(n)+","+t.BIG_RADIUS*t.node_y(n)+")"}},[r("circle",{attrs:{cx:0,cy:0,r:t.SMALL_RADIUS,fill:"var(--color-green)"}}),r("text",{staticClass:"encoder-svg-text",style:"font-size:"+t.FONT_SIZE+";",attrs:{y:t.TEXT_OFFSET,fill:"white"}},[r("tspan",{attrs:{"text-anchor":"middle"}},[t._v("\n                "+t._s(n)+"\n              ")])])])])}),t._l(t.graph,function(e,n){return r("g",t._l(e,function(e,i){return 1==e?r("polyline",{attrs:{points:t.line_points(n,i),"marker-end":"url(#arrow)",stroke:"black","stroke-width":"2",fill:"transparent"}}):t._e()}))})],2)])])],1)}),Qt=[],Zt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.MARGIN=10,e.WIDTH=500,e.HEIGHT=500,e.SCALING_FACTOR=1/e.graph.length,e.FONT_SIZE=7*e.SCALING_FACTOR+"em",e.SMALL_RADIUS=150*e.SCALING_FACTOR,e.TEXT_OFFSET=.25*e.SMALL_RADIUS,e.MARKER_HEIGHT=6,e.BIG_RADIUS=Math.min(e.WIDTH,e.HEIGHT)/2-2*e.SMALL_RADIUS,e.GEN_COLORS=["red","blue","green","orange","purple","black"],e}return v["d"](e,t),e.prototype.node_x=function(t){return Math.cos(2*t*Math.PI/this.graph.length)},e.prototype.node_y=function(t){return Math.sin(2*t*Math.PI/this.graph.length)},e.prototype.line_points=function(t,e){this.BIG_RADIUS,this.SMALL_RADIUS;var r=[this.BIG_RADIUS*this.node_x(t),this.BIG_RADIUS*this.node_y(t)],n=[this.BIG_RADIUS*this.node_x(e),this.BIG_RADIUS*this.node_y(e)],i=[n[0]-r[0],n[1]-r[1]],o=Math.sqrt(i.map(function(t){return t*t}).reduce(function(t,e){return t+e})),a=i.map(function(t){return t/o}),s=[r[0]+a[0]*this.SMALL_RADIUS,r[1]+a[1]*this.SMALL_RADIUS],_=[n[0]-a[0]*(this.SMALL_RADIUS+2*this.MARKER_HEIGHT),n[1]-a[1]*(this.SMALL_RADIUS+2*this.MARKER_HEIGHT)];return s[0]+" "+s[1]+", "+_[0]+" "+_[1]},v["c"]([Object(b["b"])(Array)],e.prototype,"graph",void 0),e=v["c"]([b["a"]],e),e}(b["c"]),Xt=Zt,Kt=Xt,Vt=(r("a488"),Object(a["a"])(Kt,Ft,Qt,!1,null,"64a03e36",null));Vt.options.__file="GraphDiagram.vue";var zt=Vt.exports;function Jt(t,e){return 0===e?t:Jt(e,t%e)}function qt(t){var e=Jt(t[0],t[1]);return[t[0]/e,t[1]/e]}function Yt(t,e){return 0===t[0]?e:0===e[0]?t:[t[0]*e[1]+e[0]*t[1],t[1]*e[1]]}function te(t){var e=new Array(t).fill([]).map(function(e){return new Array(t).fill(0)});return e.map(function(t,e){return t.map(function(t,r){return e===r?0:Math.floor(1.2*Math.random())})})}function ee(t){var e=t.map(function(t){return t.reduce(function(t,e){return t+e})}),r=e.map(function(e,r){var n=new Array(t.length).fill([0,0]);return 0===e?n:t[r].map(function(t){return t?[1,e]:[0,0]})});return r}function re(t){return t.map(function(e,r){return e.filter(function(t){return 0!=t[0]}).length>0?e:e.map(function(e){return[1,t.length]})})}function ne(t,e){var r=[e[1]-e[0],e[1]],n=qt([r[0],r[1]*t.length]);return t.map(function(r,i){return r[0][1]===t.length?r:r.map(function(t){if(0===t[0])return n;var r=qt([e[0],e[1]*t[1]]);return qt(Yt(r,n))})})}function ie(t,e){return t.map(function(r,n){return qt(t.reduce(function(t,r,i){return Yt(t,[r[0]*e[i][n][0],r[1]*e[i][n][1]])},[0,0]))})}var oe=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.adj_matrix=[],e.g1_matrix_string="",e.g2_matrix_string="",e.g_matrix_string="",e.iterate_string="",e.iteration_norm_string="",e.ranked_pages_string="",e.g=[],e.it_0=[],e.it_t=[],e.it_next=[],e.t=0,e.graph_timeout=!1,e}return v["d"](e,t),e.prototype.get_ranked_pages=function(){var t=this.it_next.map(function(t,e){return{page:e,val:t[0]/t[1]}});return t.sort(function(t,e){return e.val-t.val}),t.map(function(t){return t.page})},e.prototype.make_random_graph=function(){return v["b"](this,void 0,void 0,function(){var t,e,r;return v["e"](this,function(n){switch(n.label){case 0:return t=Math.floor(3*Math.random())+6,this.adj_matrix=te(t),e=ee(this.adj_matrix),this.g1_matrix_string="$$G_1 = \\begin{bmatrix} "+this.get_matrix_frac_string(e)+" \\end{bmatrix}$$",r=re(e),this.g2_matrix_string="$$G_2 = \\begin{bmatrix} "+this.get_matrix_frac_string(r)+" \\end{bmatrix}$$",this.g=ne(r,[85,100]),this.g_matrix_string="$$G = \\begin{bmatrix} "+this.get_matrix_frac_string(this.g)+" \\end{bmatrix}$$",this.init_iteration(),this.graph_timeout=!0,[4,new Promise(function(t){return setTimeout(t,3e3)})];case 1:return n.sent(),this.graph_timeout=!1,[2]}})})},e.prototype.init_iteration=function(){var t=this;this.t=-1,this.it_0=new Array(this.g.length).fill([]).map(function(e){return[1,t.g.length]}),this.it_next=this.it_0,this.do_iteration()},e.prototype.do_iteration=function(){this.t++,this.it_t=this.it_next,this.it_next=ie(this.it_t,this.g);var t="\\begin{bmatrix} "+this.get_matrix_frac_string(this.it_t.map(function(t){return[t]}))+" \\end{bmatrix}",e="\\begin{bmatrix} "+this.get_matrix_frac_string(this.it_next.map(function(t){return[t]}))+" \\end{bmatrix}";this.iterate_string="$$ (\\boldsymbol{\\rho}^{("+(this.t+1)+")})^{T} = "+e+"^{T} = "+t+"^{T}G = (\\boldsymbol{\\rho}^{("+this.t+")})^{T}G $$",this.iteration_norm_string=this.get_iteration_norm_string(),this.ranked_pages_string="$$ "+this.get_ranked_pages()+" $$"},e.prototype.do_iteration_10=function(){for(var t=0;t<9;++t)this.t++,this.it_t=this.it_next,this.it_next=ie(this.it_t,this.g);this.do_iteration()},e.prototype.get_iteration_norm_string=function(){var t=this,e=this.it_next.map(function(e,r){return e[0]/e[1]-t.it_t[r][0]/t.it_t[r][1]}),r=Math.sqrt(e.map(function(t){return t*t}).reduce(function(t,e){return t+e},0));return"$\\left\\Vert\\boldsymbol{\\rho}^{("+(this.t+1)+")} - \\boldsymbol{\\rho}^{("+this.t+")}\\right\\Vert_{2} \\approx "+r.toFixed(14)+"$"},e.prototype.get_matrix_frac_string=function(t){var e=t.map(function(t){return t.map(function(t){return 0===t[0]?"0":t[0]===t[1]?"1":t[0]>=1e4||t[1]>=1e4?""+(t[0]/t[1]).toFixed(6):"\\frac{"+t[0]+"}{"+t[1]+"}"})});return e.map(function(t){return t.join(" & ")}).join(" \\\\ ")},e.prototype.created=function(){this.make_random_graph()},e=v["c"]([Object(b["a"])({components:{GraphDiagram:zt}})],e),e}(b["c"]),ae=oe,se=ae,_e=(r("39b8"),Object(a["a"])(se,Bt,Nt,!1,null,"02d16f62",null));_e.options.__file="PageRank.vue";var ce=_e.exports;n["default"].use(l["a"]);var le=new l["a"]({mode:"history",base:"/interactive-algorithms/",routes:[{path:"/",name:"home",component:g},{path:"/pagerank/",name:"pagerank",component:ce},{path:"/encoder/",name:"encoder",component:it},{path:"/decoder/",name:"decoder",component:jt,props:function(t){var e=t.params.passed_params;return{passed_params:e}}}]}),ue=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("span",{ref:"mathJaxElWrapper"},[r("span",[t._t("default")],2)])},pe=[],he=(r("96cf"),r("1da1")),de={methods:{waitForMathJax:function(){var t=Object(he["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e=0;case 1:if(window.MathJax){t.next=9;break}return t.next=4,new Promise(function(t){return setTimeout(t,100)});case 4:if(e++,!(e>50)){t.next=7;break}throw Error("MathJax not loaded");case 7:t.next=1;break;case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),renderMathJax:function(){var t=Object(he["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.waitForMathJax();case 2:window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub,this.$refs.mathJaxElWrapper.firstChild]);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},mounted:function(){this.renderMathJax()}},fe=de,ge=Object(a["a"])(fe,ue,pe,!1,null,null,null);ge.options.__file="AppMathJax.vue";var me=ge.exports,Te=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("span",{ref:"mathJaxElWrapper"},[r("span",[t._v(t._s(t.data))])])},ve=[],be=(r("aef6"),r("f559"),{props:["data"],watch:{data:function(){this.updateMathJax()}},methods:{waitForMathJax:function(){var t=Object(he["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e=0;case 1:if(window.MathJax){t.next=9;break}return t.next=4,new Promise(function(t){return setTimeout(t,100)});case 4:if(e++,!(e>50)){t.next=7;break}throw Error("MathJax not loaded");case 7:t.next=1;break;case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),renderMathJax:function(){var t=Object(he["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.waitForMathJax();case 2:window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub,this.$refs.mathJaxElWrapper.firstChild]);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),strip_dollars:function(t){while(t.startsWith("$")&&t.endsWith("$"))t=t.slice(1,-1);return t},updateMathJax:function(){var t=Object(he["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.waitForMathJax();case 2:window.MathJax.Hub.Queue(["Text",window.MathJax.Hub.getAllJax(this.$refs.mathJaxElWrapper)[0],this.strip_dollars(this.data)]);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},mounted:function(){this.renderMathJax()}}),Ae=be,Ee=Object(a["a"])(Ae,Te,ve,!1,null,null,null);Ee.options.__file="AppDynamicMathJax.vue";var Le=Ee.exports,Ie=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("input",{class:t.valid?"input-valid":"input-invalid",attrs:{type:"text"},domProps:{value:t.value},on:{input:function(e){t.$emit("input",e.target.value)}}})},Se=[],Re=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return v["d"](e,t),v["c"]([Object(b["b"])()],e.prototype,"value",void 0),v["c"]([Object(b["b"])(Boolean)],e.prototype,"valid",void 0),e=v["c"]([b["a"]],e),e}(b["c"]),ye=Re,He=ye,Oe=(r("758f"),Object(a["a"])(He,Ie,Se,!1,null,"4121d586",null));Oe.options.__file="AppInput.vue";var xe=Oe.exports,De=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("button",{class:t.button_class,attrs:{type:"button"}},[t._t("default")],2)},we=[],Me=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return v["d"](e,t),Object.defineProperty(e.prototype,"button_class",{get:function(){return this.type+"-button"},enumerable:!0,configurable:!0}),v["c"]([Object(b["b"])({type:String,default:"standard"})],e.prototype,"type",void 0),e=v["c"]([b["a"]],e),e}(b["c"]),ke=Me,Ge=ke,We=(r("7c6d"),Object(a["a"])(Ge,De,we,!1,null,"1748e3c8",null));We.options.__file="AppButton.vue";var Pe=We.exports,Ue=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"spoiler-bar"},[r("span",{staticClass:"spoiler-title",on:{click:function(){t.toggle=!t.toggle}}},[t._v(t._s(t.title))])]),r("div",{directives:[{name:"show",rawName:"v-show",value:t.toggle,expression:"toggle"}],staticClass:"spoiler-content"},[t._t("default")],2)])},Ce=[],$e=n["default"].extend({props:["title"],data:function(){return{toggle:!1}}}),je=$e,Be=(r("4bc4"),Object(a["a"])(je,Ue,Ce,!1,null,"8c0c3a04",null));Be.options.__file="AppSpoiler.vue";var Ne=Be.exports,Fe=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("svg",{attrs:{version:"1.1",baseProfile:"full",xmlns:"https://www.w3.org/2000/svg"}},[t._t("default")],2)},Qe=[],Ze=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return v["d"](e,t),e=v["c"]([b["a"]],e),e}(b["c"]),Xe=Ze,Ke=Xe,Ve=Object(a["a"])(Ke,Fe,Qe,!1,null,null,null);Ve.options.__file="AppSvg.vue";var ze=Ve.exports,Je=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},qe=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"horiz-line"},[r("div",{staticClass:"actual-line"})])}],Ye=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return v["d"](e,t),e=v["c"]([b["a"]],e),e}(b["c"]),tr=Ye,er=tr,rr=(r("23e0"),Object(a["a"])(er,Je,qe,!1,null,"2eb34970",null));rr.options.__file="AppHorizLine.vue";var nr=rr.exports;n["default"].component("Math",me),n["default"].component("DynamicMath",Le),n["default"].component("AppInput",xe),n["default"].component("AppButton",Pe),n["default"].component("AppSpoiler",Ne),n["default"].component("AppSvg",ze),n["default"].component("HorizLine",nr),n["default"].config.productionTip=!1,new n["default"]({router:le,store:J,render:function(t){return t(c)}}).$mount("#app")},e138:function(t,e,r){},e22b:function(t,e,r){"use strict";var n=r("e576"),i=r.n(n);i.a},e576:function(t,e,r){},e586:function(t,e,r){},e91e:function(t,e,r){},edd3:function(t,e,r){}});
//# sourceMappingURL=app.2db2f8ba.js.map